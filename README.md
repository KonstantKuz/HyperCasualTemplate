**Update 13.11.2020** Добавил общий для всех проектов Keystore с инструкцией.
**Update 10.11.2020** Добавил пак мультяшных шейдеров и эффектов в папку Content.  

# Основной шаблон

В Template Scene -> RegularTemplate висят обязательные Observer и LevelManager. Так же в префаб RegularTemplate отправляются все компоненты и объекты необходимые в каждой сцене-уровне.  
Observer является связующим компонентом между игровыми сущностями и\или интерфейсом со списком всех событий в игре.  


 - Основные события :  
OnGameStarted срабатывает по нажатию кнопки-туториала (описано ниже).  
OnWinLevel событие, которое необходимо вызывать при финише\выигрыша сцены. После вызова вылетает панель победы (и другое в зависимости от подписок).  
OnLoseLevel событие, которое соответственно необходимо вызывать при проигрыше. После вызова вылетает панель проигрыша (и другое в зависимости от подписок).  

 - Вызов событий :  
Observer.Instance.OnWinLevel(); (.CallOnWinLevel(); - метод исключающий множественные вызовы события OnWinLevel;)  
Observer.Instance.OnLoseLevel(); (.CallOnLoseLevel(); )  

 - Подписка на события :  
Observer.Instance.OnWinLevel += SomeMethod;  
Observer.Instance.OnWinLevel += delegate { SomeMethod(2f); };  

 - В сцене висит Canvas с панелью победы \ проигрыша и кнопкой-туториалом (рука + восьмерка \ тап ту плей).  
Кнопка-туториал растянута на весь экран и по нажатию отключается и вызывает событие OnGameStarted.  
В панели уже настроены кнопки рестарта сцены и загрузки следующей сцены.  

 - Все уровни (все сцены имеющиеся в build settings) автоматически зациклены.  
При каждом старте сцены загружается последняя непройденная сцена.  
Чтобы поменять загружаемую при старте сцену нужно в LevelManager вписать индекс нужной сцены и нажать Set current scene.  
Чтобы сбросить прогресс до нулевой сцены нужно нажать Reset progress.  

 - В GameConstants в идеале пишутся все константы игры как строковые так и численные, чтобы к ключевым константам игры был доступ без поиска в коде.  

 - ObjectPooler'у лучше делегировать всю работу со спавном, чтобы проще было тречить какие объекты где спавнятся.  
 
 - В проекте имеется дженерик синглтон, благодаря которому синглтоны можно создавать просто наследуясь от Singletone< T>.  
 Прим. :  
 public class SomeClass : Singleton< SomeClass> {}  
 
 - В проекте имеется ассет DOTween, с помощью которого можно легко реализовывать простенькие и не очень анимации движения.  
 Например чтобы заставить объект двигаться к заданной точке в течение 1 секунды достаточно одной строки кода transform.DOMove(position, 1f);  
 
 - В проекте имеются пак мультяшных шейдеров по адресу Content -> Toony Colors Pro и пак мультяшных эффектов по адресу Content -> Cartoon FX 
 
# Дополнительные полезные шаблоны - Assets/Templates

 - ProgressBars Templates  
**Плюшки** - canvas\world space прогресс\стейдж бары с легкой сменой направления независимо от роста\убавления прогресса  
В папке Assets/Templates/ProgressBars Templates есть примеры  
Подробное описание по ссылке https://github.com/KonstantKuz/ProgressBars-Templates  

 - ObjectPooler  
**Плюшки** - спавн с автовозвратом через n сек, спавн объектов рандомно, спавн объектов со взвешенным рандомом.  
В папке Assets/Templates/ObjectPooler/Example есть пример  
Подробное описание по ссылке https://github.com/KonstantKuz/ObjectPooler  

 - ScreenshotMaker  
Рантайм эдитор скриншотер, делающий скрины в разных разрешениях за раз.  
Исп. : кинуть в сцену префаб, добавить нужные разрешения в окне GameView и в ScreenshotMaker, поставить галочку MakeShot напротив каждого нужного разрешения, запустить игру.  

 - Popup Text  
World space всплывашка с простенькой popup анимацией.  
Пр. ObjectPooler.Instance.SpawnObject("Popup").GetComponent<PopupText>().SetPopup("+1", Color.red);  

 - StimulText  
Canvas space всплывашка с 3 анимациями.  

 - ReorderableListExtensions  
 Позволяет легко рисовать удобные списки вместо дефолтных  
 Подробное описание по ссылке https://github.com/KonstantKuz/ReorderableList-Extension
 
 # Полезные скрипты - Assets/Scripts
 
 - InputManager.cs
Универсальный класс детекта тапов от игрока. Умеет работать как с событиями мыши для standalone, так и с событиями тачей для девайсов.
1. метод IsTapped() - возвращает true, если игрок в данный фрейм тапнул по экрану
2. свойство TapPhase - возвращает фазу тапа/клика
3. свойство MoveVector - возвращает нормализованный вектор смещения тапа/клика по сравнению с предыдущим фреймом (фактически, это направление свайпа).
 